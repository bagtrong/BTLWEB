@model IEnumerable<TLoaiSp>
<div class="col-lg-3">
    <div class="hero__categories">
        <div class="hero__categories__all">
            <i class="fa fa-bars"></i>
            <span>All departments</span>
        </div>
        <ul>
            @foreach (var item in Model)
            {

                //var linkLoaiSp="/home/sanphamtheoloai?=maloai"+ item.MaLoai;

                //<li><a asp-controller="/Home" asp-action="SanPhamTheoLoai" asp-route-maloai="@item.MaLoai">@item.Loai</a></li>
                var getUrl = "https://localhost:7254/api/ProductApi/" + item.MaLoai;
                <li><a style="cursor:pointer" onclick="ShowProductByCategory('@getUrl')">@item.Loai</a></li>
            }
        </ul>
    </div>
</div>

@*@model IEnumerable<TLoaiSp>
<div class="col-lg-3">
    <div class="hero__categories">
        <div class="hero__categories__all">
            <i class="fa fa-bars"></i>
            <span>All departments</span>
        </div>
        <ul>
            @foreach(var item in Model)
            {
                var getUrl = "https://localhost:7211/api/productsapi/" + @item.MaLoai;
              @*<li><a asp-controller="Home" asp-action="SanPhamTheoLoai" asp-route-maloai="@item.MaLoai">@item.Loai</a></li>*@
  @*              <li onclick="ShowProductsByCategory(\''+@getUrl+''\); return false;">@item.Loai</li>
            }
        </ul>
    </div>
</div>*@


<script>
    function ShowProductByCategory(getUrl) {
        
            var str = '';
            $.ajax({
                type: 'GET',
                url: getUrl,
                dataType: 'json',
                success: function (data) {
                    $.each(data, function (key, val) {
                //        //str+= '<div><p>' + val.tenSp +'</p></div>';
                //        str += `<div class="col-lg-3 col-md-4 col-sm-6 mix oranges fresh-meat">
                //    <div class="featured__item">
                //            <div class="featured__item__pic set-bg" data-setbg='../ProductImages/${val.anhDaiDien}'
                //        style="background-image: url('../ProductImages/${val.anhDaiDien}');">
                //            <ul class="featured__item__pic__hover">
                //                <li><a href="#"><i class="fa fa-heart"></i></a></li>
                //                <li><a href="#"><i class="fa fa-retweet"></i></a></li>
                //                <li><a href="#"><i class="fa fa-shopping-cart"></i></a></li>
                //            </ul>
                //        </div>
                //        <div class="featured__item__text">
                //            <h6><a asp-controller="Home" asp-action="ChiTietSanPham" asp-route-MaSp="${val.maSp}">${val.tenSp}</a></h6>
                //            <h5>${val.giaNhoNhat} đồng</h5>
                //        </div>
                //    </div>
                //</div>`
                    str += '<div class="col-lg-3 col-md-4 col-sm-6 mix oranges fresh-meat " >';
                    str += ' <div class="featured__item" >';
                    str += '<div class="featured__item__pic set-bg" data - setbg=\" >';
                    var linkImage = "../ProductImages/Images/" + $.trim(val.AnhDaiDien);
                    str += linkImage;
                    str += '\" style ="backround-image: url(&quot;';
                    str += '&quot;);">';

                    str += '<ul class="featured__item__pic__hover" >';
                    str += ' <li><a href="#" > <i class="fa fa-heart" > </i></a > </li>';
                    str += '< li > <a href="#" > <i class="fa fa-retweet" > </i></a > </li>';
                    str += ' <li><a href="#" > <i class="fa fa-shopping-cart" > </i></a > </li>';
                    str += '</ul></div>';

                    str += '  < div class="featured__item__text" >';
                    str += '<h6><a href=\"/Home/SanPhamDetail?maSp=';
                    str += $.trim(val.tenSp);
                    str += '\">';
                    str += $.trim(val.tenSp);
                    str += '</a></h6><h5>';
                    str += val.giaNhoNhat.toString();
                    str += '</h5> </div></div></div>';});

                        $('#divmain').html(str);
                    },
                        Error: function (xhr) {
                            alert(xhr.responseText);
                        }
                    })
        }
    //str += `<div class="col-lg-3 col-md-4 col-sm-6 mix oranges fresh-meat">
    //                <div class="featured__item">
    //                        <div class="featured__item__pic set-bg" data-setbg='../ProductImages/${val.anhDaiDien}'
    //                    style="background-image: url('../ProductImages/${val.anhDaiDien}');">
    //                        <ul class="featured__item__pic__hover">
    //                            <li><a href="#"><i class="fa fa-heart"></i></a></li>
    //                            <li><a href="#"><i class="fa fa-retweet"></i></a></li>
    //                            <li><a href="#"><i class="fa fa-shopping-cart"></i></a></li>
    //                        </ul>
    //                    </div>
    //                    <div class="featured__item__text">
    //                        <h6><a asp-controller="Home" asp-action="ChiTietSanPham" asp-route-MaSp="${val.maSp}">${val.tenSp}</a></h6>
    //                        <h5>${val.giaNhoNhat} đồng</h5>
    //                    </div>
    //                </div>
    //            </div>`
    //$('#divmain').html(str);
    // function ShowProductByCategory(getUrl){
    //            //                var str='';
                //                $ajax({
                //                     type: 'GET',
                //url: getUrl,
                //dataType: 'json',
                //success: function (data){
                //    $.each(data, function(key, val){
                //      //  str+='<p>'+val.tenSp+'</p>'

                //    str += val.MaSp + ' ' + val.TenSp;
                //});
                //    $('#divmain').html(str);
                //},
                //Error: function(xhr){
                //    alert(xhr.responseText);
                //}

                //                }); 
                //            }
       
//            var str = "";
//            $.ajax({
//                type: 'GET',
//                url: getUrl,
//                dataType: 'json',
//                success: function (data) {
//                    alert(data);
//                    $each(data, function (key, val) {
//                        str += val.MaSp + ' ' + val.TenSp;
//                    });
//                    $('#divmain').html(str);
//                },
//                Error: function (xhr) {
//                    alert(xhr.responeText);
//                }
//            })
//        }

        //str+='<div class="col-lg-3 col-md-4 col-sm-6 mix oranges fresh-meat " >';
        //str +=' <div class="featured__item" >';
        //str += '<div class="featured__item__pic set-bg" data - setbg=\" >';
        //var linkImage ="../ProductImages/Images/"+$.trim(val.AnhDaiDien);
        //str+=linkImage;
        //str +='\" style ="backround-image: url(& quot;';
        //str +='&quot;);">';

        //str += '<ul class="featured__item__pic__hover" >';
        //str += ' <li><a href="#" > <i class="fa fa-heart" > </i></a > </li>';
        //str += '< li > <a href="#" > <i class="fa fa-retweet" > </i></a > </li>';
        //str += ' <li><a href="#" > <i class="fa fa-shopping-cart" > </i></a > </li>';
        //str += '</ul></div>';

        //str += '  < div class="featured__item__text" >';
        //str += '<h6><a href=\"/Home/SanPhamDetail?maSp=';
        //str +=$.trim(val.tenSp);
        // str +='\">'; 
        //str +=$.trim(val.tenSp);
        //str+='</a></h6><h5>';
        //str +=val.giaNhoNhat.toString();
        //str += '</h5> </div></div></div>';
          
</script>


@*    <script>
        function ShowProductsByCategory(getUrl) {
            var str = "";
            $.ajax({
                type: 'GET',
                url: getUrl,
                dataType: 'json',
                success: function (data) {
                    alert(data);
                    $each(data, function (key, val) {
                        str += val.MaSp + ' ' + val.TenSp;
                    });
                    $('#divmain').html(str);
                },
                Error: function (xhr) {
                    alert(xhr.responeText);
                }
            })
        }
    </script>
*@